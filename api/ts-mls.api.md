## API Report File for "ts-mls"

> Do not edit this file. It is a report generated by [API Extractor](https://api-extractor.com/).

```ts

// @public (undocumented)
export const acceptAll: IncomingMessageCallback;

// @public (undocumented)
export interface Add {
    // (undocumented)
    keyPackage: KeyPackage;
}

// @public (undocumented)
export type AeadAlgorithm = "AES128GCM" | "CHACHA20POLY1305" | "AES256GCM";

// @public (undocumented)
export interface AuthenticationService {
    // (undocumented)
    validateCredential(credential: Credential_2, signaturePublicKey: Uint8Array): Promise<boolean>;
}

// @public (undocumented)
export function branchGroup(params: {
    context: MlsContext;
    state: ClientState;
    keyPackage: KeyPackage;
    privateKeyPackage: PrivateKeyPackage;
    memberKeyPackages: KeyPackage[];
    newGroupId: Uint8Array;
}): Promise<CreateCommitResult>;

// @public (undocumented)
export type Brand<T, B> = T & {
    [__brand]: B;
};

// @public (undocumented)
export function bytesToBase64(bytes: Uint8Array): string;

// @public (undocumented)
export interface Capabilities {
    // (undocumented)
    ciphersuites: CiphersuiteId[];
    // (undocumented)
    credentials: number[];
    // (undocumented)
    extensions: number[];
    // (undocumented)
    proposals: number[];
    // (undocumented)
    versions: ProtocolVersionValue[];
}

// @public (undocumented)
export type Ciphersuite = {
    hash: HashAlgorithm;
    hpke: HpkeAlgorithm;
    signature: SignatureAlgorithm;
    name: CiphersuiteId;
};

// @public (undocumented)
export type CiphersuiteId = (typeof ciphersuites)[CiphersuiteName];

// @public (undocumented)
export interface CiphersuiteImpl {
    // (undocumented)
    hash: Hash;
    // (undocumented)
    hpke: Hpke;
    // (undocumented)
    kdf: Kdf;
    // (undocumented)
    name: CiphersuiteId;
    // (undocumented)
    rng: Rng;
    // (undocumented)
    signature: Signature;
}

// @public (undocumented)
export type CiphersuiteName = keyof typeof ciphersuites;

// @public (undocumented)
export const ciphersuites: {
    readonly MLS_128_DHKEMX25519_AES128GCM_SHA256_Ed25519: 1;
    readonly MLS_128_DHKEMP256_AES128GCM_SHA256_P256: 2;
    readonly MLS_128_DHKEMX25519_CHACHA20POLY1305_SHA256_Ed25519: 3;
    readonly MLS_256_DHKEMX448_AES256GCM_SHA512_Ed448: 4;
    readonly MLS_256_DHKEMP521_AES256GCM_SHA512_P521: 5;
    readonly MLS_256_DHKEMX448_CHACHA20POLY1305_SHA512_Ed448: 6;
    readonly MLS_256_DHKEMP384_AES256GCM_SHA384_P384: 7;
    readonly MLS_128_MLKEM512_AES128GCM_SHA256_Ed25519: 77;
    readonly MLS_128_MLKEM512_CHACHA20POLY1305_SHA256_Ed25519: 78;
    readonly MLS_256_MLKEM768_AES256GCM_SHA384_Ed25519: 79;
    readonly MLS_256_MLKEM768_CHACHA20POLY1305_SHA384_Ed25519: 80;
    readonly MLS_256_MLKEM1024_AES256GCM_SHA512_Ed25519: 81;
    readonly MLS_256_MLKEM1024_CHACHA20POLY1305_SHA512_Ed25519: 82;
    readonly MLS_256_XWING_AES256GCM_SHA512_Ed25519: 83;
    readonly MLS_256_XWING_CHACHA20POLY1305_SHA512_Ed25519: 84;
    readonly MLS_256_MLKEM1024_AES256GCM_SHA512_MLDSA87: 85;
    readonly MLS_256_MLKEM1024_CHACHA20POLY1305_SHA512_MLDSA87: 86;
    readonly MLS_256_XWING_AES256GCM_SHA512_MLDSA87: 87;
    readonly MLS_256_XWING_CHACHA20POLY1305_SHA512_MLDSA87: 88;
};

// @public (undocumented)
export interface ClientConfig {
    // (undocumented)
    keyPackageEqualityConfig: KeyPackageEqualityConfig;
    // (undocumented)
    keyRetentionConfig: KeyRetentionConfig;
    // (undocumented)
    lifetimeConfig: LifetimeConfig;
    // (undocumented)
    paddingConfig: PaddingConfig;
}

// @public (undocumented)
export type ClientState = GroupState & PublicGroupState;

// @public (undocumented)
export const clientStateDecoder: Decoder<ClientState>;

// @public (undocumented)
export const clientStateEncoder: Encoder<ClientState>;

// @public (undocumented)
export interface Commit {
    // (undocumented)
    path: UpdatePath | undefined;
    // (undocumented)
    proposals: ProposalOrRef[];
}

// @public (undocumented)
export type ContentTypeName = keyof typeof contentTypes;

// @public (undocumented)
export const contentTypes: {
    readonly application: 1;
    readonly proposal: 2;
    readonly commit: 3;
};

// @public (undocumented)
export type ContentTypeValue = (typeof contentTypes)[ContentTypeName];

// @public (undocumented)
export function createApplicationMessage(params: {
    context: MlsContext;
    state: ClientState;
    message: Uint8Array;
    authenticatedData?: Uint8Array;
}): Promise<CreateMessageResult>;

// @public (undocumented)
export function createCommit(params: CreateCommitParams): Promise<CreateCommitResult>;

// @public (undocumented)
export interface CreateCommitOptions {
    // (undocumented)
    authenticatedData?: Uint8Array;
    // (undocumented)
    extraProposals?: Proposal[];
    // (undocumented)
    groupInfoExtensions?: GroupInfoExtension[];
    // (undocumented)
    ratchetTreeExtension?: boolean;
    // (undocumented)
    wireAsPublicMessage?: boolean;
}

// @public (undocumented)
export interface CreateCommitParams extends CreateCommitOptions {
    // (undocumented)
    context: MlsContext;
    // (undocumented)
    state: ClientState;
}

// @public (undocumented)
export interface CreateCommitResult {
    // (undocumented)
    commit: MlsFramedMessage;
    // (undocumented)
    consumed: Uint8Array[];
    // (undocumented)
    newState: ClientState;
    // (undocumented)
    welcome: MlsWelcomeMessage | undefined;
}

// @public (undocumented)
export function createGroup(params: CreateGroupParams): Promise<ClientState>;

// @public (undocumented)
export function createGroupInfoWithExternalPub(state: ClientState, extensions: GroupInfoExtension[], cs: CiphersuiteImpl): Promise<GroupInfo>;

// @public (undocumented)
export function createGroupInfoWithExternalPubAndRatchetTree(state: ClientState, extensions: GroupInfoExtension[], cs: CiphersuiteImpl): Promise<GroupInfo>;

// @public (undocumented)
export interface CreateGroupParams {
    // (undocumented)
    context: MlsContext;
    // (undocumented)
    extensions?: GroupContextExtension[];
    // (undocumented)
    groupId: Uint8Array;
    // (undocumented)
    keyPackage: KeyPackage;
    // (undocumented)
    privateKeyPackage: PrivateKeyPackage;
}

// @public (undocumented)
export interface CreateMessageResult {
    // (undocumented)
    consumed: Uint8Array[];
    // (undocumented)
    message: MlsFramedMessage;
    // (undocumented)
    newState: ClientState;
}

// @public (undocumented)
export function createProposal(params: {
    context: MlsContext;
    state: ClientState;
    wireAsPublicMessage?: boolean;
    proposal: Proposal;
    authenticatedData?: Uint8Array;
}): Promise<CreateMessageResult>;

// @public (undocumented)
type Credential_2 = DefaultCredential | CredentialCustom;
export { Credential_2 as Credential }

// @public (undocumented)
export interface CredentialBasic {
    // (undocumented)
    credentialType: typeof defaultCredentialTypes.basic;
    // (undocumented)
    identity: Uint8Array;
}

// @public (undocumented)
export interface CredentialCustom {
    // (undocumented)
    credentialType: number;
    // (undocumented)
    data: Uint8Array;
}

// @public (undocumented)
export interface CredentialX509 {
    // (undocumented)
    certificates: Uint8Array[];
    // (undocumented)
    credentialType: typeof defaultCredentialTypes.x509;
}

// @public (undocumented)
export interface CryptoProvider {
    // (undocumented)
    getCiphersuiteImpl(cs: Ciphersuite): Promise<CiphersuiteImpl>;
}

// @public (undocumented)
export interface CustomExtension {
    // (undocumented)
    readonly [__custom_extension_brand]: true;
    // (undocumented)
    extensionData: Uint8Array;
    // (undocumented)
    extensionType: number;
}

// @public (undocumented)
export function decode<T>(dec: Decoder<T>, t: Uint8Array): T | undefined;

// @public (undocumented)
export type Decoder<T> = (b: Uint8Array, offset: number) => [T, number] | undefined;

// @public (undocumented)
export function defaultCapabilities(): Capabilities;

// @public (undocumented)
export type DefaultCredential = CredentialBasic | CredentialX509;

// @public (undocumented)
export type DefaultCredentialTypeName = keyof typeof defaultCredentialTypes;

// @public (undocumented)
export const defaultCredentialTypes: {
    readonly basic: 1;
    readonly x509: 2;
};

// @public (undocumented)
export type DefaultCredentialTypeValue = (typeof defaultCredentialTypes)[DefaultCredentialTypeName];

// @public (undocumented)
export const defaultCryptoProvider: {
    getCiphersuiteImpl(cs: Ciphersuite): Promise<CiphersuiteImpl>;
};

// @public (undocumented)
export type DefaultExtensionTypeName = keyof typeof defaultExtensionTypes;

// @public (undocumented)
export const defaultExtensionTypes: {
    readonly application_id: 1;
    readonly ratchet_tree: 2;
    readonly required_capabilities: 3;
    readonly external_pub: 4;
    readonly external_senders: 5;
};

// @public (undocumented)
export const defaultKeyPackageEqualityConfig: KeyPackageEqualityConfig;

// @public (undocumented)
export const defaultKeyRetentionConfig: KeyRetentionConfig;

// @public (undocumented)
export function defaultLifetime(): Lifetime;

// @public (undocumented)
export const defaultLifetimeConfig: LifetimeConfig;

// @public (undocumented)
export const defaultPaddingConfig: PaddingConfig;

// @public (undocumented)
export type DefaultProposal = ProposalAdd | ProposalUpdate | ProposalRemove | ProposalPSK | ProposalReinit | ProposalExternalInit | ProposalGroupContextExtensions;

// @public (undocumented)
export type DefaultProposalTypeName = keyof typeof defaultProposalTypes;

// @public (undocumented)
export const defaultProposalTypes: {
    readonly add: 1;
    readonly update: 2;
    readonly remove: 3;
    readonly psk: 4;
    readonly reinit: 5;
    readonly external_init: 6;
    readonly group_context_extensions: 7;
};

// @public (undocumented)
export function encode<T>(enc: Encoder<T>, t: T): Uint8Array;

// @public (undocumented)
export type Encoder<T> = (t: T) => [number, (offset: number, buffer: ArrayBuffer) => void];

// @public (undocumented)
export interface EncryptedGroupSecrets {
    // (undocumented)
    encryptedGroupSecrets: HPKECiphertext;
    // (undocumented)
    newMember: Uint8Array;
}

// @public
export interface EpochReceiverData {
    // (undocumented)
    groupContext: GroupContext;
    // (undocumented)
    ratchetTree: RatchetTree;
    // (undocumented)
    resumptionPsk: Uint8Array;
    // (undocumented)
    secretTree: SecretTree;
    // (undocumented)
    senderDataSecret: Uint8Array;
}

// @public (undocumented)
export interface ExtensionApplicationId {
    // (undocumented)
    extensionData: Uint8Array;
    // (undocumented)
    extensionType: typeof defaultExtensionTypes.application_id;
}

// @public (undocumented)
export interface ExtensionExternalPub {
    // (undocumented)
    extensionData: Uint8Array;
    // (undocumented)
    extensionType: typeof defaultExtensionTypes.external_pub;
}

// @public (undocumented)
export interface ExtensionExternalSenders {
    // (undocumented)
    extensionData: ExternalSender;
    // (undocumented)
    extensionType: typeof defaultExtensionTypes.external_senders;
}

// @public (undocumented)
export interface ExtensionRatchetTree {
    // (undocumented)
    extensionData: Uint8Array;
    // (undocumented)
    extensionType: typeof defaultExtensionTypes.ratchet_tree;
}

// @public (undocumented)
export interface ExtensionRequiredCapabilities {
    // (undocumented)
    extensionData: RequiredCapabilities;
    // (undocumented)
    extensionType: typeof defaultExtensionTypes.required_capabilities;
}

// @public (undocumented)
export interface ExternalInit {
    // (undocumented)
    kemOutput: Uint8Array;
}

// @public (undocumented)
export interface ExternalSender {
    // (undocumented)
    credential: Credential_2;
    // (undocumented)
    signaturePublicKey: Uint8Array;
}

// @public (undocumented)
export type FramedContent = FramedContentData & FramedContentInfo;

// @public (undocumented)
export interface FramedContentApplicationData {
    // (undocumented)
    applicationData: Uint8Array;
    // (undocumented)
    contentType: typeof contentTypes.application;
}

// @public (undocumented)
export type FramedContentAuthData = FramedContentAuthDataCommit | FramedContentAuthDataApplicationOrProposal;

// @public (undocumented)
export type FramedContentAuthDataApplicationOrProposal = {
    signature: Uint8Array;
} & FramedContentAuthDataContentApplicationOrProposal;

// @public (undocumented)
export type FramedContentAuthDataCommit = {
    signature: Uint8Array;
} & FramedContentAuthDataContentCommit;

// @public (undocumented)
export type FramedContentAuthDataContentApplicationOrProposal = {
    contentType: typeof contentTypes.application | typeof contentTypes.proposal;
};

// @public (undocumented)
export type FramedContentAuthDataContentCommit = {
    contentType: typeof contentTypes.commit;
    confirmationTag: Uint8Array;
};

// @public (undocumented)
export interface FramedContentCommitData {
    // (undocumented)
    commit: Commit;
    // (undocumented)
    contentType: typeof contentTypes.commit;
}

// @public (undocumented)
export interface FramedContentData {
    // (undocumented)
    authenticatedData: Uint8Array;
    // (undocumented)
    epoch: bigint;
    // (undocumented)
    groupId: Uint8Array;
    // (undocumented)
    sender: Sender;
}

// @public (undocumented)
export type FramedContentInfo = FramedContentApplicationData | FramedContentProposalData | FramedContentCommitData;

// @public (undocumented)
export interface FramedContentProposalData {
    // (undocumented)
    contentType: typeof contentTypes.proposal;
    // (undocumented)
    proposal: Proposal;
}

// @public (undocumented)
export function generateKeyPackage(params: GenerateKeyPackageParams): Promise<{
    publicPackage: KeyPackage;
    privatePackage: PrivateKeyPackage;
}>;

// @public (undocumented)
export interface GenerateKeyPackageParams {
    // (undocumented)
    capabilities?: Capabilities;
    // (undocumented)
    cipherSuite: CiphersuiteImpl;
    // (undocumented)
    credential: Credential_2;
    // (undocumented)
    extensions?: CustomExtension[];
    // (undocumented)
    leafNodeExtensions?: LeafNodeExtension[];
    // (undocumented)
    lifetime?: Lifetime;
}

// @public (undocumented)
export function generateKeyPackageWithKey(params: GenerateKeyPackageWithKeyParams): Promise<{
    publicPackage: KeyPackage;
    privatePackage: PrivateKeyPackage;
}>;

// @public (undocumented)
export interface GenerateKeyPackageWithKeyParams {
    // (undocumented)
    capabilities?: Capabilities;
    // (undocumented)
    cipherSuite: CiphersuiteImpl;
    // (undocumented)
    credential: Credential_2;
    // (undocumented)
    extensions?: CustomExtension[];
    // (undocumented)
    leafNodeExtensions?: LeafNodeExtension[];
    // (undocumented)
    lifetime?: Lifetime;
    // (undocumented)
    signatureKeyPair: {
        signKey: Uint8Array;
        publicKey: Uint8Array;
    };
}

// @public (undocumented)
export interface GenerationSecret {
    // (undocumented)
    generation: number;
    // (undocumented)
    secret: Uint8Array;
    // (undocumented)
    unusedGenerations: Record<number, Uint8Array>;
}

// @public (undocumented)
export function getCiphersuiteFromName(name: CiphersuiteName): Ciphersuite;

// @public (undocumented)
export function getCiphersuiteImpl(cs: Ciphersuite, provider?: CryptoProvider): Promise<CiphersuiteImpl>;

// @public (undocumented)
export type GroupActiveState = {
    kind: "active";
} | {
    kind: "suspendedPendingReinit";
    reinit: Reinit;
} | {
    kind: "removedFromGroup";
};

// @public (undocumented)
export interface GroupContext {
    // (undocumented)
    cipherSuite: CiphersuiteId;
    // (undocumented)
    confirmedTranscriptHash: Uint8Array;
    // (undocumented)
    epoch: bigint;
    // (undocumented)
    extensions: GroupContextExtension[];
    // (undocumented)
    groupId: Uint8Array;
    // (undocumented)
    treeHash: Uint8Array;
    // (undocumented)
    version: ProtocolVersionValue;
}

// @public (undocumented)
export type GroupContextExtension = ExtensionRequiredCapabilities | ExtensionExternalSenders | CustomExtension;

// @public (undocumented)
export interface GroupContextExtensions {
    // (undocumented)
    extensions: GroupContextExtension[];
}

// @public (undocumented)
export type GroupInfo = GroupInfoTBS & {
    signature: Uint8Array;
};

// @public (undocumented)
export type GroupInfoExtension = ExtensionRatchetTree | ExtensionExternalPub | CustomExtension;

// @public (undocumented)
export interface GroupInfoTBS {
    // (undocumented)
    confirmationTag: Uint8Array;
    // (undocumented)
    extensions: GroupInfoExtension[];
    // (undocumented)
    groupContext: GroupContext;
    // (undocumented)
    signer: number;
}

// @public (undocumented)
export interface GroupState {
    // (undocumented)
    confirmationTag: Uint8Array;
    // (undocumented)
    groupActiveState: GroupActiveState;
    // (undocumented)
    historicalReceiverData: Map<bigint, EpochReceiverData>;
    // (undocumented)
    keySchedule: KeySchedule;
    // (undocumented)
    privatePath: PrivateKeyPath;
    // (undocumented)
    secretTree: SecretTree;
    // (undocumented)
    signaturePrivateKey: Uint8Array;
    // (undocumented)
    unappliedProposals: UnappliedProposals;
}

// @public (undocumented)
export const groupStateDecoder: Decoder<GroupState>;

// @public (undocumented)
export const groupStateEncoder: Encoder<GroupState>;

// @public (undocumented)
export interface Hash {
    // (undocumented)
    digest(data: Uint8Array): Promise<Uint8Array>;
    // (undocumented)
    mac(key: Uint8Array, data: Uint8Array): Promise<Uint8Array>;
    // (undocumented)
    verifyMac(key: Uint8Array, mac: Uint8Array, data: Uint8Array): Promise<boolean>;
}

// @public (undocumented)
export type HashAlgorithm = "SHA-512" | "SHA-384" | "SHA-256";

// @public (undocumented)
export interface Hpke {
    // (undocumented)
    decryptAead(key: Uint8Array, nonce: Uint8Array, aad: Uint8Array | undefined, ciphertext: Uint8Array): Promise<Uint8Array>;
    // (undocumented)
    deriveKeyPair(ikm: Uint8Array): Promise<{
        privateKey: PrivateKey;
        publicKey: PublicKey;
    }>;
    // (undocumented)
    encryptAead(key: Uint8Array, nonce: Uint8Array, aad: Uint8Array | undefined, plaintext: Uint8Array): Promise<Uint8Array>;
    // (undocumented)
    exportPrivateKey(k: PrivateKey): Promise<Uint8Array>;
    // (undocumented)
    exportPublicKey(k: PublicKey): Promise<Uint8Array>;
    // (undocumented)
    exportSecret(publicKey: PublicKey, exporterContext: Uint8Array, length: number, info: Uint8Array): Promise<{
        enc: Uint8Array;
        secret: Uint8Array;
    }>;
    // (undocumented)
    generateKeyPair(): Promise<{
        privateKey: PrivateKey;
        publicKey: PublicKey;
    }>;
    // (undocumented)
    importPrivateKey(k: Uint8Array): Promise<PrivateKey>;
    // (undocumented)
    importPublicKey(k: Uint8Array): Promise<PublicKey>;
    // (undocumented)
    importSecret(privateKey: PrivateKey, exporterContext: Uint8Array, kemOutput: Uint8Array, length: number, info: Uint8Array): Promise<Uint8Array>;
    // (undocumented)
    keyLength: number;
    // (undocumented)
    nonceLength: number;
    // (undocumented)
    open(privateKey: PrivateKey, kemOutput: Uint8Array, ciphertext: Uint8Array, info: Uint8Array, aad?: Uint8Array): Promise<Uint8Array>;
    // (undocumented)
    seal(publicKey: PublicKey, plaintext: Uint8Array, info: Uint8Array, aad?: Uint8Array): Promise<{
        ct: Uint8Array;
        enc: Uint8Array;
    }>;
}

// @public (undocumented)
export interface HpkeAlgorithm {
    // (undocumented)
    aead: AeadAlgorithm;
    // (undocumented)
    kdf: KdfAlgorithm;
    // (undocumented)
    kem: KemAlgorithm;
}

// @public (undocumented)
export interface HPKECiphertext {
    // (undocumented)
    ciphertext: Uint8Array;
    // (undocumented)
    kemOutput: Uint8Array;
}

// @public (undocumented)
export type IncomingMessageAction = "accept" | "reject";

// @public (undocumented)
export type IncomingMessageCallback = (incoming: {
    kind: "commit";
    senderLeafIndex: LeafIndex | undefined;
    proposals: ProposalWithSender[];
} | {
    kind: "proposal";
    proposal: ProposalWithSender;
}) => IncomingMessageAction;

// @public (undocumented)
export function joinGroup(params: {
    context: MlsContext;
    welcome: Welcome;
    keyPackage: KeyPackage;
    privateKeys: PrivateKeyPackage;
    ratchetTree?: RatchetTree;
    resumingFromState?: ClientState;
}): Promise<ClientState>;

// @public (undocumented)
export function joinGroupExternal(params: {
    context: MlsContext;
    groupInfo: GroupInfo;
    keyPackage: KeyPackage;
    privateKeys: PrivateKeyPackage;
    resync: boolean;
    tree?: RatchetTree;
    authenticatedData?: Uint8Array;
}): Promise<{
    publicMessage: PublicMessage;
    newState: ClientState;
}>;

// @public (undocumented)
export function joinGroupFromBranch(params: {
    context: MlsContext;
    oldState: ClientState;
    welcome: Welcome;
    keyPackage: KeyPackage;
    privateKeyPackage: PrivateKeyPackage;
    ratchetTree?: RatchetTree;
}): Promise<ClientState>;

// @public (undocumented)
export function joinGroupFromReinit(params: {
    context: MlsContext;
    suspendedState: ClientState;
    welcome: Welcome;
    keyPackage: KeyPackage;
    privateKeyPackage: PrivateKeyPackage;
    ratchetTree?: RatchetTree;
    provider?: CryptoProvider;
}): Promise<ClientState>;

// @public (undocumented)
export interface JoinGroupResult {
    // (undocumented)
    groupInfoExtensions: GroupInfoExtension[];
    // (undocumented)
    state: ClientState;
}

// @public (undocumented)
export function joinGroupWithExtensions(params: {
    context: MlsContext;
    welcome: Welcome;
    keyPackage: KeyPackage;
    privateKeys: PrivateKeyPackage;
    ratchetTree?: RatchetTree;
    resumingFromState?: ClientState;
}): Promise<JoinGroupResult>;

// @public (undocumented)
export interface Kdf {
    // (undocumented)
    expand(prk: Uint8Array, info: Uint8Array, len: number): Promise<Uint8Array>;
    // (undocumented)
    extract(salt: Uint8Array, ikm: Uint8Array): Promise<Uint8Array>;
    // (undocumented)
    size: number;
}

// @public (undocumented)
export type KdfAlgorithm = "HKDF-SHA256" | "HKDF-SHA384" | "HKDF-SHA512";

// @public (undocumented)
export type KemAlgorithm = "DHKEM-P256-HKDF-SHA256" | "DHKEM-X25519-HKDF-SHA256" | "DHKEM-X448-HKDF-SHA512" | "DHKEM-P521-HKDF-SHA512" | "DHKEM-P384-HKDF-SHA384" | "ML-KEM-512" | "ML-KEM-768" | "ML-KEM-1024" | "X-Wing";

// @public (undocumented)
export type KeyPackage = KeyPackageTBS & {
    signature: Uint8Array;
};

// @public (undocumented)
export interface KeyPackageEqualityConfig {
    // (undocumented)
    compareKeyPackages(a: KeyPackage, b: KeyPackage): boolean;
    // (undocumented)
    compareKeyPackageToLeafNode(a: KeyPackage, b: LeafNode): boolean;
}

// @public (undocumented)
export type KeyPackageTBS = {
    version: ProtocolVersionValue;
    cipherSuite: CiphersuiteId;
    initKey: Uint8Array;
    leafNode: LeafNodeKeyPackage;
    extensions: CustomExtension[];
};

// @public (undocumented)
export interface KeyRetentionConfig {
    // (undocumented)
    maximumForwardRatchetSteps: number;
    // (undocumented)
    retainKeysForEpochs: number;
    // (undocumented)
    retainKeysForGenerations: number;
}

// @public (undocumented)
export interface KeySchedule {
    // (undocumented)
    confirmationKey: Uint8Array;
    // (undocumented)
    epochAuthenticator: Uint8Array;
    // (undocumented)
    exporterSecret: Uint8Array;
    // (undocumented)
    externalSecret: Uint8Array;
    // (undocumented)
    initSecret: Uint8Array;
    // (undocumented)
    membershipKey: Uint8Array;
    // (undocumented)
    resumptionPsk: Uint8Array;
    // (undocumented)
    senderDataSecret: Uint8Array;
}

// @public (undocumented)
export type LeafIndex = Brand<number, "LeafIndex">;

// @public (undocumented)
export type LeafNode = LeafNodeData & LeafNodeInfoOmitted & {
    signature: Uint8Array;
};

// @public (undocumented)
export type LeafNodeCommit = LeafNode & {
    leafNodeSource: typeof leafNodeSources.commit;
};

// @public (undocumented)
export interface LeafNodeData {
    // (undocumented)
    capabilities: Capabilities;
    // (undocumented)
    credential: Credential_2;
    // (undocumented)
    hpkePublicKey: Uint8Array;
    // (undocumented)
    signaturePublicKey: Uint8Array;
}

// @public (undocumented)
export type LeafNodeExtension = ExtensionApplicationId | CustomExtension;

// @public (undocumented)
export interface LeafNodeInfoCommitOmitted {
    // (undocumented)
    extensions: LeafNodeExtension[];
    // (undocumented)
    leafNodeSource: typeof leafNodeSources.commit;
    // (undocumented)
    parentHash: Uint8Array;
}

// @public (undocumented)
export interface LeafNodeInfoKeyPackage {
    // (undocumented)
    extensions: LeafNodeExtension[];
    // (undocumented)
    leafNodeSource: typeof leafNodeSources.key_package;
    // (undocumented)
    lifetime: Lifetime;
}

// @public (undocumented)
export type LeafNodeInfoOmitted = LeafNodeInfoKeyPackage | LeafNodeInfoUpdateOmitted | LeafNodeInfoCommitOmitted;

// @public (undocumented)
export interface LeafNodeInfoUpdateOmitted {
    // (undocumented)
    extensions: LeafNodeExtension[];
    // (undocumented)
    leafNodeSource: typeof leafNodeSources.update;
}

// @public (undocumented)
export type LeafNodeKeyPackage = LeafNode & {
    leafNodeSource: typeof leafNodeSources.key_package;
};

// @public (undocumented)
export type LeafNodeSourceName = keyof typeof leafNodeSources;

// @public (undocumented)
export const leafNodeSources: {
    readonly key_package: 1;
    readonly update: 2;
    readonly commit: 3;
};

// @public (undocumented)
export type LeafNodeSourceValue = (typeof leafNodeSources)[LeafNodeSourceName];

// @public (undocumented)
export type LeafNodeUpdate = LeafNode & {
    leafNodeSource: typeof leafNodeSources.update;
};

// @public (undocumented)
export interface Lifetime {
    // (undocumented)
    notAfter: bigint;
    // (undocumented)
    notBefore: bigint;
}

// @public (undocumented)
export interface LifetimeConfig {
    // (undocumented)
    maximumTotalLifetime: bigint;
    // (undocumented)
    validateLifetimeOnReceive: boolean;
}

// @public (undocumented)
export function makeCustomExtension(extension: {
    extensionType: number;
    extensionData: Uint8Array;
}): CustomExtension;

// @public (undocumented)
export interface MlsContext {
    // (undocumented)
    authService: AuthenticationService;
    // (undocumented)
    cipherSuite: CiphersuiteImpl;
    // (undocumented)
    clientConfig?: ClientConfig;
    // (undocumented)
    externalPsks?: Record<string, Uint8Array>;
}

// @public (undocumented)
export function mlsExporter(exporterSecret: Uint8Array, label: string, context: Uint8Array, length: number, cs: CiphersuiteImpl): Promise<Uint8Array>;

// @public (undocumented)
export type MlsFramedMessage = MlsMessageProtocol & (MlsPrivateMessage | MlsPublicMessage);

// @public (undocumented)
export interface MlsGroupInfo {
    // (undocumented)
    groupInfo: GroupInfo;
    // (undocumented)
    wireformat: typeof wireformats.mls_group_info;
}

// @public (undocumented)
export interface MlsKeyPackage {
    // (undocumented)
    keyPackage: KeyPackage;
    // (undocumented)
    wireformat: typeof wireformats.mls_key_package;
}

// @public (undocumented)
export type MlsMessage = MlsMessageProtocol & MlsMessageContent;

// @public (undocumented)
export type MlsMessageContent = MlsWelcome | MlsPrivateMessage | MlsGroupInfo | MlsKeyPackage | MlsPublicMessage;

// @public (undocumented)
export const mlsMessageDecoder: Decoder<MlsMessage>;

// @public (undocumented)
export const mlsMessageEncoder: Encoder<MlsMessage>;

// @public (undocumented)
export interface MlsMessageProtocol {
    // (undocumented)
    version: ProtocolVersionValue;
}

// @public (undocumented)
export interface MlsPrivateMessage {
    // (undocumented)
    privateMessage: PrivateMessage;
    // (undocumented)
    wireformat: typeof wireformats.mls_private_message;
}

// @public (undocumented)
export interface MlsPublicMessage {
    // (undocumented)
    publicMessage: PublicMessage;
    // (undocumented)
    wireformat: typeof wireformats.mls_public_message;
}

// @public (undocumented)
export interface MlsWelcome {
    // (undocumented)
    welcome: Welcome;
    // (undocumented)
    wireformat: typeof wireformats.mls_welcome;
}

// @public (undocumented)
export type MlsWelcomeMessage = MlsMessageProtocol & MlsWelcome;

// @public (undocumented)
export interface NewStateWithActionTaken {
    // (undocumented)
    actionTaken: IncomingMessageAction;
    // (undocumented)
    consumed: Uint8Array[];
    // (undocumented)
    newState: ClientState;
}

// @public (undocumented)
export const nobleCryptoProvider: {
    getCiphersuiteImpl(cs: Ciphersuite): Promise<CiphersuiteImpl>;
};

// @public (undocumented)
type Node_2 = NodeParent | NodeLeaf;
export { Node_2 as Node }

// @public (undocumented)
export type NodeLeaf = {
    nodeType: typeof nodeTypes.leaf;
    leaf: LeafNode;
};

// @public (undocumented)
export type NodeParent = {
    nodeType: typeof nodeTypes.parent;
    parent: ParentNode_2;
};

// @public (undocumented)
export const nodeTypes: {
    readonly leaf: 1;
    readonly parent: 2;
};

// @public (undocumented)
export type PaddingConfig = {
    kind: "padUntilLength";
    padUntilLength: number;
} | {
    kind: "alwaysPad";
    paddingLength: number;
};

// @public (undocumented)
interface ParentNode_2 {
    // (undocumented)
    hpkePublicKey: Uint8Array;
    // (undocumented)
    parentHash: Uint8Array;
    // (undocumented)
    unmergedLeaves: number[];
}
export { ParentNode_2 as ParentNode }

// @public (undocumented)
export type PrivateKey = CryptoKey & {
    type: "private";
};

// @public (undocumented)
export interface PrivateKeyPackage {
    // (undocumented)
    hpkePrivateKey: Uint8Array;
    // (undocumented)
    initPrivateKey: Uint8Array;
    // (undocumented)
    signaturePrivateKey: Uint8Array;
}

// @public (undocumented)
export interface PrivateKeyPath {
    // (undocumented)
    leafIndex: number;
    // (undocumented)
    privateKeys: Record<number, Uint8Array>;
}

// @public (undocumented)
export interface PrivateMessage {
    // (undocumented)
    authenticatedData: Uint8Array;
    // (undocumented)
    ciphertext: Uint8Array;
    // (undocumented)
    contentType: ContentTypeValue;
    // (undocumented)
    encryptedSenderData: Uint8Array;
    // (undocumented)
    epoch: bigint;
    // (undocumented)
    groupId: Uint8Array;
}

// @public (undocumented)
export function processMessage(params: {
    context: MlsContext;
    state: ClientState;
    message: MlsFramedMessage;
    callback?: IncomingMessageCallback;
}): Promise<ProcessMessageResult>;

// @public (undocumented)
export type ProcessMessageResult = {
    kind: "newState";
    newState: ClientState;
    actionTaken: IncomingMessageAction;
    consumed: Uint8Array[];
} | {
    kind: "applicationMessage";
    message: Uint8Array;
    newState: ClientState;
    consumed: Uint8Array[];
};

// @public
export function processPrivateMessage(params: {
    context: MlsContext;
    state: ClientState;
    privateMessage: PrivateMessage;
    callback?: IncomingMessageCallback;
}): Promise<ProcessMessageResult>;

// @public (undocumented)
export function processPublicMessage(params: {
    context: MlsContext;
    state: ClientState;
    publicMessage: PublicMessage;
    callback?: IncomingMessageCallback;
}): Promise<NewStateWithActionTaken>;

// @public (undocumented)
export type Proposal = DefaultProposal | ProposalCustom;

// @public (undocumented)
export interface ProposalAdd {
    // (undocumented)
    add: Add;
    // (undocumented)
    proposalType: typeof defaultProposalTypes.add;
}

// @public (undocumented)
export interface ProposalCustom {
    // (undocumented)
    proposalData: Uint8Array;
    // (undocumented)
    proposalType: number;
}

// @public (undocumented)
export interface ProposalExternalInit {
    // (undocumented)
    externalInit: ExternalInit;
    // (undocumented)
    proposalType: typeof defaultProposalTypes.external_init;
}

// @public (undocumented)
export interface ProposalGroupContextExtensions {
    // (undocumented)
    groupContextExtensions: GroupContextExtensions;
    // (undocumented)
    proposalType: typeof defaultProposalTypes.group_context_extensions;
}

// @public (undocumented)
export type ProposalOrRef = ProposalOrRefProposal | ProposalOrRefProposalRef;

// @public (undocumented)
export interface ProposalOrRefProposal {
    // (undocumented)
    proposal: Proposal;
    // (undocumented)
    proposalOrRefType: typeof proposalOrRefTypes.proposal;
}

// @public (undocumented)
export interface ProposalOrRefProposalRef {
    // (undocumented)
    proposalOrRefType: typeof proposalOrRefTypes.reference;
    // (undocumented)
    reference: Uint8Array;
}

// @public (undocumented)
export const proposalOrRefTypes: {
    readonly proposal: 1;
    readonly reference: 2;
};

// @public (undocumented)
export interface ProposalPSK {
    // (undocumented)
    proposalType: typeof defaultProposalTypes.psk;
    // (undocumented)
    psk: PSK;
}

// @public (undocumented)
export interface ProposalReinit {
    // (undocumented)
    proposalType: typeof defaultProposalTypes.reinit;
    // (undocumented)
    reinit: Reinit;
}

// @public (undocumented)
export interface ProposalRemove {
    // (undocumented)
    proposalType: typeof defaultProposalTypes.remove;
    // (undocumented)
    remove: Remove;
}

// @public (undocumented)
export interface ProposalUpdate {
    // (undocumented)
    proposalType: typeof defaultProposalTypes.update;
    // (undocumented)
    update: Update;
}

// @public (undocumented)
export interface ProposalWithSender {
    // (undocumented)
    proposal: Proposal;
    // (undocumented)
    senderLeafIndex: number | undefined;
}

// @public (undocumented)
export function proposeAddExternal(groupInfo: GroupInfo, keyPackage: KeyPackage, privateKeyPackage: PrivateKeyPackage, cs: CiphersuiteImpl, authenticatedData?: Uint8Array): Promise<MlsMessage>;

// @public (undocumented)
export function proposeExternal(groupInfo: GroupInfo, proposal: Proposal, signaturePublicKey: Uint8Array, signaturePrivateKey: Uint8Array, cs: CiphersuiteImpl, authenticatedData?: Uint8Array): Promise<MlsMessage>;

// @public (undocumented)
export type ProtocolVersionName = keyof typeof protocolVersions;

// @public (undocumented)
export const protocolVersions: {
    readonly mls10: 1;
};

// @public (undocumented)
export type ProtocolVersionValue = (typeof protocolVersions)[ProtocolVersionName];

// @public (undocumented)
export interface PSK {
    // (undocumented)
    preSharedKeyId: PskId;
}

// @public (undocumented)
export type PskId = PskInfo & PskNonce;

// @public (undocumented)
export type PskInfo = PskInfoExternal | PskInfoResumption;

// @public (undocumented)
export interface PskInfoExternal {
    // (undocumented)
    pskId: Uint8Array;
    // (undocumented)
    psktype: typeof pskTypes.external;
}

// @public (undocumented)
export interface PskInfoResumption {
    // (undocumented)
    pskEpoch: bigint;
    // (undocumented)
    pskGroupId: Uint8Array;
    // (undocumented)
    psktype: typeof pskTypes.resumption;
    // (undocumented)
    usage: ResumptionPSKUsageValue;
}

// @public (undocumented)
export type PskNonce = {
    pskNonce: Uint8Array;
};

// @public (undocumented)
export type PSKTypeName = keyof typeof pskTypes;

// @public (undocumented)
export const pskTypes: {
    readonly external: 1;
    readonly resumption: 2;
};

// @public (undocumented)
export type PSKTypeValue = (typeof pskTypes)[PSKTypeName];

// @public (undocumented)
export interface PublicGroupState {
    // (undocumented)
    groupContext: GroupContext;
    // (undocumented)
    ratchetTree: RatchetTree;
}

// @public (undocumented)
export type PublicKey = CryptoKey & {
    type: "public";
};

// @public (undocumented)
export type PublicMessage = {
    content: FramedContent;
    auth: FramedContentAuthData;
} & PublicMessageInfo;

// @public (undocumented)
export type PublicMessageInfo = PublicMessageInfoMember | PublicMessageInfoMemberOther;

// @public (undocumented)
export type PublicMessageInfoMember = {
    senderType: typeof senderTypes.member;
    membershipTag: Uint8Array;
};

// @public (undocumented)
export type PublicMessageInfoMemberOther = {
    senderType: Exclude<SenderTypeValue, typeof senderTypes.member>;
};

// @public (undocumented)
export type RatchetTree = (Node_2 | undefined)[];

// @public (undocumented)
export interface Reinit {
    // (undocumented)
    cipherSuite: CiphersuiteId;
    // (undocumented)
    extensions: GroupContextExtension[];
    // (undocumented)
    groupId: Uint8Array;
    // (undocumented)
    version: ProtocolVersionValue;
}

// @public (undocumented)
export function reinitCreateNewGroup(params: {
    context: MlsContext;
    state: ClientState;
    keyPackage: KeyPackage;
    privateKeyPackage: PrivateKeyPackage;
    memberKeyPackages: KeyPackage[];
    groupId: Uint8Array;
    cipherSuite: CiphersuiteName;
    extensions?: GroupContextExtension[];
    provider?: CryptoProvider;
}): Promise<CreateCommitResult>;

// @public (undocumented)
export function reinitGroup(params: {
    context: MlsContext;
    state: ClientState;
    groupId: Uint8Array;
    version: ProtocolVersionName;
    cipherSuite: CiphersuiteName;
    extensions?: GroupContextExtension[];
}): Promise<CreateCommitResult>;

// @public (undocumented)
export interface Remove {
    // (undocumented)
    removed: number;
}

// @public (undocumented)
export interface RequiredCapabilities {
    // (undocumented)
    credentialTypes: number[];
    // (undocumented)
    extensionTypes: number[];
    // (undocumented)
    proposalTypes: number[];
}

// @public (undocumented)
export type ResumptionPSKUsageName = keyof typeof resumptionPSKUsages;

// @public (undocumented)
export const resumptionPSKUsages: {
    readonly application: 1;
    readonly reinit: 2;
    readonly branch: 3;
};

// @public (undocumented)
export type ResumptionPSKUsageValue = (typeof resumptionPSKUsages)[ResumptionPSKUsageName];

// @public (undocumented)
export interface Rng {
    // (undocumented)
    randomBytes(n: number): Uint8Array;
}

// @public (undocumented)
export interface SecretTree {
    // (undocumented)
    intermediateNodes: Record<number, Uint8Array>;
    // (undocumented)
    leafNodes: Record<number, SecretTreeNode>;
    // (undocumented)
    leafWidth: number;
}

// @public (undocumented)
export interface SecretTreeNode {
    // (undocumented)
    application: GenerationSecret;
    // (undocumented)
    handshake: GenerationSecret;
}

// @public (undocumented)
export type Sender = SenderMember | SenderNonMember;

// @public (undocumented)
export interface SenderExternal {
    // (undocumented)
    senderIndex: number;
    // (undocumented)
    senderType: typeof senderTypes.external;
}

// @public (undocumented)
export interface SenderMember {
    // (undocumented)
    leafIndex: number;
    // (undocumented)
    senderType: typeof senderTypes.member;
}

// @public (undocumented)
export interface SenderNewMemberCommit {
    // (undocumented)
    senderType: typeof senderTypes.new_member_commit;
}

// @public (undocumented)
export interface SenderNewMemberProposal {
    // (undocumented)
    senderType: typeof senderTypes.new_member_proposal;
}

// @public (undocumented)
export type SenderNonMember = SenderExternal | SenderNewMemberProposal | SenderNewMemberCommit;

// @public (undocumented)
export type SenderTypeName = keyof typeof senderTypes;

// @public (undocumented)
export const senderTypes: {
    readonly member: 1;
    readonly external: 2;
    readonly new_member_proposal: 3;
    readonly new_member_commit: 4;
};

// @public (undocumented)
export type SenderTypeValue = (typeof senderTypes)[SenderTypeName];

// @public (undocumented)
export interface Signature {
    // (undocumented)
    keygen(): Promise<{
        publicKey: Uint8Array;
        signKey: Uint8Array;
    }>;
    // (undocumented)
    sign(signKey: Uint8Array, message: Uint8Array): Promise<Uint8Array>;
    // (undocumented)
    verify(publicKey: Uint8Array, message: Uint8Array, signature: Uint8Array): Promise<boolean>;
}

// @public (undocumented)
export type SignatureAlgorithm = "Ed25519" | "Ed448" | "P256" | "P384" | "P521" | "ML-DSA-87";

// @public (undocumented)
export type UnappliedProposals = Record<string, ProposalWithSender>;

// @public (undocumented)
export const unsafeTestingAuthenticationService: AuthenticationService;

// @public (undocumented)
export interface Update {
    // (undocumented)
    leafNode: LeafNodeUpdate;
}

// @public (undocumented)
export interface UpdatePath {
    // (undocumented)
    leafNode: LeafNodeCommit;
    // (undocumented)
    nodes: UpdatePathNode[];
}

// @public (undocumented)
export interface UpdatePathNode {
    // (undocumented)
    encryptedPathSecret: HPKECiphertext[];
    // (undocumented)
    hpkePublicKey: Uint8Array;
}

// @public (undocumented)
export interface Welcome {
    // (undocumented)
    cipherSuite: CiphersuiteId;
    // (undocumented)
    encryptedGroupInfo: Uint8Array;
    // (undocumented)
    secrets: EncryptedGroupSecrets[];
}

// @public (undocumented)
export type WireformatName = keyof typeof wireformats;

// @public (undocumented)
export const wireformats: {
    readonly mls_public_message: 1;
    readonly mls_private_message: 2;
    readonly mls_welcome: 3;
    readonly mls_group_info: 4;
    readonly mls_key_package: 5;
};

// @public (undocumented)
export type WireformatValue = (typeof wireformats)[WireformatName];

// @public (undocumented)
export function zeroOutUint8Array(buf: Uint8Array): void;

// (No @packageDocumentation comment for this package)

```
